---
sidebar_position: 2
---

#  데이터베이스

데이터베이스(DB)는 일정한 규칙이나 규약을 통해 구조화되어 저장되는 데이터의 모음입니다. 이를 제어하고 관리하는 통합 시스템을 DBMS(Database Management System)라고 하며, 각 DBMS마다 정의된 쿼리 언어(SQL 등)를 통해 데이터의 삽입, 삭제, 수정, 조회 등의 작업을 수행할 수 있습니다. 또한, 데이터베이스는 실시간 접근과 동시 공유가 가능합니다.

데이터베이스 위에 DBMS가 있고, 그 위에 응용 프로그램이 있으며, 이러한 구조를 기반으로 데이터를 주고받습니다. 예를 들어, MySQL이라는 DBMS가 있고 그 위에 Node.js와 같은 응용 프로그램이 존재하여 해당 데이터베이스 안의 데이터를 가져와 관련된 로직을 구축하는 방식입니다.

## 엔터티(Entity)
엔터티는 사람, 장소, 물건, 사건, 개념 등 여러 개의 속성을 지닌 명사를 의미합니다. 예를 들어, '회원'이라는 엔터티가 있다면, 회원은 이름, 아이디, 주소, 전화번호 등의 속성을 가질 수 있습니다. 서비스의 요구 사항에 따라 관리해야 할 속성이 정해집니다.

### 약한 엔터티와 강한 엔터티
- **강한 엔터티(Strong Entity)**: 자체적으로 고유한 식별자를 가지며 독립적으로 존재할 수 있는 엔터티입니다.

- **약한 엔터티(Weak Entity)**: 자체적으로 고유한 식별자를 가지지 않으며, 다른 엔터티(강한 엔터티)의 존재 여부에 종속적인 엔터티입니다. 예를 들어, '건물'이 강한 엔터티라면, '방'은 약한 엔터티라고 할 수 있습니다.

## 릴레이션(Relation)
데이터베이스에서 정보를 구분하여 저장하는 기본 단위입니다. 엔터티에 관한 데이터는 데이터베이스에서 릴레이션 하나에 담아 관리합니다.

- **관계형 데이터베이스(Relational Database, RDBMS)**에서는 릴레이션을 **'테이블(Table)'**이라고 합니다.
- NoSQL 데이터베이스에서는 릴레이션을 **'컬렉션(Collection)'**이라고 합니다.

### 테이블과 컬렉션
- MySQL(RDBMS) → 레코드(Record) - 테이블(Table) - 데이터베이스(Database) 구조
- MongoDB(NoSQL) → 도큐먼트(Document) - 컬렉션(Collection) - 데이터베이스(Database) 구조

## 속성(Attribute)
릴레이션에서 관리하는 구체적이며 고유한 이름을 갖는 정보를 의미합니다. 예를 들어, '자동차'라는 엔터티의 속성으로 차 번호, 색상, 차종 등이 있을 수 있습니다. 서비스의 요구사항을 기반으로 필요한 속성들이 결정됩니다.

## 도메인(Domain)
각 속성이 가질 수 있는 값의 집합을 의미합니다. 예를 들어, '성별'이라는 속성의 도메인은 `{남, 여}`가 될 수 있습니다.

## 필드(Field)와 레코드(Record)
데이터베이스의 테이블은 **필드(열, Column)**와 **레코드(행, Row)**로 구성됩니다.

예를 들어, '책'이라는 엔터티를 기반으로 테이블을 만들 경우
- 필드(컬럼): 책 ID, 제목, 저자 ID, 출판년도, 장르, 생성 일시, 업데이트 일시 등
- 레코드(행): 특정 책 한 권에 대한 정보를 담고 있는 데이터

### 필드 타입(Field Type)
MySQL을 기준으로 대표적인 데이터 타입을 정리하면 다음과 같습니다.

#### 숫자 타입(Number Type)
- TINYINT, SMALLINT, MEDIUMINT, INT, BIGINT: 크기별 정수 타입

#### 날짜 타입(Date Type)

- DATE: 날짜(YYYY-MM-DD)
- DATETIME: 날짜 및 시간(YYYY-MM-DD HH:MI:SS)
- TIMESTAMP: 날짜 및 시간(UTC 기준, 자동 업데이트 가능)

#### 문자 타입(Character Type)
문자 타입으로는 CHAR, VARCHAR, TEXT, BLOB, ENUM, SET이 있습니다.

- CHAR(n): 고정 길이 문자열 (최대 255자)
- VARCHAR(n): 가변 길이 문자열 (최대 65,535자)
- TEXT: 긴 문자열 저장 (게시판 본문 등)
- BLOB: 바이너리 데이터 저장 (이미지, 동영상 등)
- ENUM: 지정된 값 중 하나 선택 (예: ENUM('small', 'medium', 'large'))
- SET: 여러 개의 값을 선택할 수 있는 타입 (최대 64개 요소)

## 관계(Relationship)
데이터베이스의 테이블들은 서로 관계를 가지며, 이를 관계 화살표로 나타냅니다.

### 1:1 관계 (One-to-One)
한 개체가 다른 개체와 1:1로 연결되는 관계입니다. 예를 들어, '사용자'와 '사용자 프로필' 테이블 간의 관계.

### 1:N 관계 (One-to-Many)
한 개체가 여러 개의 다른 개체와 연결되는 관계입니다. 예를 들어, '유저'가 여러 개의 '상품'을 담을 수 있는 쇼핑몰의 장바구니 테이블.

### N:M 관계 (Many-to-Many)
다수의 개체가 다수의 다른 개체와 연결되는 관계입니다. 예를 들어, '학생'이 여러 개의 '강의'를 수강할 수 있으며, 각 '강의'는 여러 명의 '학생'을 포함할 수 있는 경우.키(Key)

테이블 간의 관계를 명확하게 정의하고 데이터의 무결성을 유지하기 위해 키를 사용합니다.

주요 키의 종류

기본키(Primary Key, PK): 각 레코드를 유일하게 식별하는 키 (예: 회원 ID)

외래키(Foreign Key, FK): 다른 테이블의 기본키를 참조하는 키

후보키(Candidate Key): 기본키로 사용할 수 있는 후보 키

대체키(Alternate Key): 후보키 중 기본키로 선택되지 않은 키

슈퍼키(Super Key): 레코드를 유일하게 식별할 수 있는 키(유일성은 있지만 최소성은 만족하지 않을 수도 있음)

자연키 vs 인조키

자연키(Natural Key): 데이터 자체에 이미 존재하는 고유한 값 (예: 주민등록번호)

인조키(Surrogate Key): 인위적으로 생성된 고유한 식별자 (예: 자동 증가 ID)


## 키(Key)
테이블 간의 관계를 명확하게 정의하고 데이터의 무결성을 유지하기 위해 키를 사용합니다.

###  키의 종류

- 기본키(Primary Key, PK): 각 레코드를 유일하게 식별하는 키 (예: 회원 ID)
- 외래키(Foreign Key, FK): 다른 테이블의 기본키를 참조하는 키
- 후보키(Candidate Key): 기본키로 사용할 수 있는 후보 키
- 대체키(Alternate Key): 후보키 중 기본키로 선택되지 않은 키
- 슈퍼키(Super Key): 레코드를 유일하게 식별할 수 있는 키(유일성은 있지만 최소성은 만족하지 않을 수도 있음)

### 자연키 vs 인조키

- 자연키(Natural Key): 데이터 자체에 이미 존재하는 고유한 값 (예: 주민등록번호)
- 인조키(Surrogate Key): 인위적으로 생성된 고유한 식별자 (예: 자동 증가 ID)