---
sidebar_position: 7
title: FLUX
description: "단방향 데이터 흐름을 강조하는 클라이언트 측 웹 애플리케이션 아키텍처 패턴, FLUX의 개념과 핵심 요소, 장점을 설명합니다."
keywords: [flux, React, 단방향 데이터 흐름, 상태 관리]
last_update:
  date: 2025-04-21
  author: Yjin
tags: [flux, React, 프론트엔드, 디자인 패턴]
slug: /design/flux
---


import Highlight from '@site/src/components/Highlight';

# FLUX 패턴

플럭스 패턴은 페이스북에서 발표한 클라이언트 측 웹 애플리케이션 구축을 위한 아키텍처 디자인 패턴입니다. 
<Highlight>단방향 데이터 흐름</Highlight>을 핵심으로 하여 애플리케이션 데이터의 흐름을 더욱 예측 가능하게 만들고, 복잡한 UI 상태 관리를 효율적으로 처리하는 것을 목표로 합니다.

![flux 패턴](/img/flux.png)

## 액션 (Action)
액션은 애플리케이션에서 발생하는 모든 이벤트(사용자 상호 작용, 서버 응답 등)를 나타내는 단순한 객체입니다. 
각 액션은 어떤 종류의 이벤트가 발생했는지 명시하는 <Highlight>type</Highlight> 속성을 필수적으로 가지며, 필요한 데이터를 담는 속성을 포함할 수 있습니다. 
액션은 중앙의 디스패처를 통해 여러 스토어로 전달됩니다.
```jsx
{
  type: "ADD_TYPE",
  text: "더하기"
}
```

## 디스패처 (Dispatcher)
디스패처는 플럭스 아키텍처의 플럭스에서 뷰는 주로 React 컴포넌트로 구현됩니다. 뷰는 스토어의 상태를 구독하고, 스토어에서 발생하는 변경 이벤트에 반응하여 필요한 데이터를 가져와 스스로를 업데이트합니다. 사용자의 인터랙션이 발생하면 뷰는 새로운 액션을 생성하여 디스패처에 전달함으로써 단방향 데이터 흐름을 시작합니다. 뷰는 순수하게 데이터를 표시하고 사용자 입력을 처리하는 역할에 집중합니다.

플럭스 아키텍처는 시스템 전반에 걸쳐 단방향 데이터 흐름을 강제함으로써 시간 경과에 따른 상태 변화를 추적하고 이해하기 쉽게 만듭니다. 이러한 예측 가능성은 애플리케이션의 디버깅과 유지보수를 용이하게 하며, 잠재적으로 컴파일러 최적화에도 활용될 수 있습니다.<Highlight>중앙 허브 역할</Highlight>을 합니다. 액션을 받아 애플리케이션에 등록된 모든 스토어에 해당 액션을 알립니다. 
각 스토어는 디스패처에 자신을 등록하고, 특정 액션 타입에 대한 처리 로직을 담은 콜백 함수를 제공합니다. 
디스패처는 액션이 디스패치되면 등록된 모든 콜백 함수를 실행하여 액션을 스토어에 전달합니다.
```jsx
Dispatcher.dispatch(action)
```

## 스토어 (Store)
스토어는 애플리케이션의 상태(State)와 해당 상태를 변경하는 로직을 캡슐화합니다. MVC 아키텍처의 모델과 유사하지만, 
플럭스의 스토어는 여러 객체의 상태를 관리할 수 있으며, 애플리케이션 전반의 상태 변화를 담당합니다. 스토어는 디스패처에 자신을 등록하고, 액션을 처리하는 콜백 함수를 제공합니다. 
스토어의 상태가 업데이트되면 <Highlight>변경 이벤트(Change Event)</Highlight>를 발생시켜 뷰에게 변경된 사항을 알립니다.
```jsx
class TodoScore extends EventEmitter {
  constructor () {
    super();
    this.todos = [];
  }

  hnadleAction(action) {
    switch (action.type) {
      case "ADD_TODO":
        this.todos.push(action.text)
        this.emit("change") 
        break;
      default:
        
    }
  }

  getAllTodos() {
    return this.todos;
  }
}
```

## 뷰 (View)
플럭스에서 뷰는 주로 React 컴포넌트로 구현됩니다. 
뷰는 스토어의 상태를 구독하고, 스토어에서 발생하는 변경 이벤트에 반응하여 필요한 데이터를 가져와 스스로를 업데이트합니다. 
사용자의 인터랙션이 발생하면 뷰는 새로운 액션을 생성하여 디스패처에 전달함으로써 단방향 데이터 흐름을 시작합니다. 
뷰는 순수하게 데이터를 표시하고 사용자 입력을 처리하는 역할에 집중합니다.

플럭스 아키텍처는 시스템 전반에 걸쳐 단방향 데이터 흐름을 강제함으로써 시간 경과에 따른 상태 변화를 추적하고 이해하기 쉽게 만듭니다. 
이러한 예측 가능성은 <Highlight>애플리케이션의 디버깅과 유지보수를 용이하게 하며, 잠재적으로 컴파일러 최적화에도 활용</Highlight>될 수 있습니다.

## 장점

### 단일 정보 출처
중앙 집중식 상태 관리는 애플리케이션의 동작을 더욱 예측 가능하고 이해하기 쉽게 만들어줍니다. 
서로 의존적인 다수의 정보 출처에서 발생할 수 있는 복잡성을 제거하여, 애플리케이션 전반에 걸쳐 버그 발생 가능성을 줄이고 상태 불일치 문제를 해결합니다.

### 테스트 가능성
시스템의 여러 부분 간에 관심사를 명확하게 분리함으로써 각 부분을 독립적으로 단위 테스트할 수 있습니다. 
단방향 데이터 흐름과 예측 가능한 상태 관리는 테스트 케이스 작성을 용이하게 하고, 코드의 신뢰성을 높입니다.

### 관심사 분리
시스템의 각 부분이 명확하게 정의된 역할과 책임을 가지므로, 시스템은 더욱 모듈화되고 유지보수가 쉬워지며 이해하기 쉬워집니다. 
단방향 데이터 흐름은 이러한 부분들이 어떻게 상호 작용하는지 명확하게 보여주어 코드의 가독성을 향상시키고 협업 개발을 용이하게 합니다.

<Highlight>플럭스 아키텍처는 단방향 데이터 흐름, 단일 정보 출처, 명확한 관심사 분리에 중점을 두어 개발, 테스트, 디버깅이 더 쉬운 견고한 애플리케이션을 구축하는 데 도움을 줍니다.</Highlight>